{% extends "MyManager/base.html" %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h1>ğŸ² Random Content</h1>

<!-- ğŸ›ï¸ Filter Button -->
<button onclick="toggleFilterPopup()">âš™ï¸ Filter Keypoint Settings</button>

<!-- ğŸ§° Filter Popup -->
<!-- ğŸ§° Filter Popup -->
<div id="filterPopup" style="display: none; ...">
    <h3>ğŸ” Filter Random Keypoints</h3>

    <label><strong>Weight Mode:</strong></label>
    <select id="weightMode">
        <option value="early">Early Chapters Heavier</option>
        <option value="late">Later Chapters Heavier</option>
        <option value="middle">Middle Heaviest</option>
        <option value="edges">Edges Heaviest</option>
    </select>

    <br><br>

    <!-- âœ… Add course checkboxes -->
    <label><strong>Select Courses:</strong></label><br>
    <div id="courseCheckboxes">
        <em>Loading courses...</em>
    </div>

    <br>

    <!-- âœ… Keep chapter checkboxes -->
    <label><strong>Select Chapters:</strong></label><br>
    <div id="chapterCheckboxes">
        <em>Loading chapters...</em>
    </div>

    <br>
    <button onclick="applyFilters()">Apply Filters</button>
    <button onclick="toggleFilterPopup()">Close</button>
</div>


<div class="dashboard-content-box">
    {% include "MyManager/components/keypoint_display.html" %}
</div>

<script src="{% static 'MyManager/dashboard.js' %}"></script>
{% endblock %}

<script>
const savedFilters = {{ saved_filters|safe }};
</script>