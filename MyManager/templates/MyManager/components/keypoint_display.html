<div class="keypoint-box">
    <h2>ğŸ“˜ Chapter {{ chapter_number }} â€” Key Point {{ key_point_number }}</h2>

    <div class="keypoint-header">
        <strong>ğŸ§  {{ question_text }}</strong>
    </div>

    {% if show_answer %}
        <!-- âœ… Show full body if flag is on -->
        <div class="keypoint-body">
            {{ content|safe }}
        </div>
    {% else %}
        <!-- ğŸ”˜ Show "Show Answer" button instead -->
        <div class="keypoint-body">
            <button class="answer-button" data-answer="show_answer" data-kp="{{ key_point_number }}">ğŸ‘ï¸ Show Answer</button>
        </div>
    {% endif %}

    {% if show_answer %}
    <div class="keypoint-actions">
        <button class="answer-button" data-answer="correct" data-kp="{{ key_point_number }}">âœ… Correct</button>
        <button class="answer-button" data-answer="incorrect" data-kp="{{ key_point_number }}">âŒ Incorrect</button>
    </div>
    {% endif %}

    <div class="keypoint-meta">
        <p>âœ… Correct count: {{ correct_count }}</p>
    </div>
</div>
